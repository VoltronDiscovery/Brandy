[gd_scene load_steps=17 format=3 uid="uid://4syjvpg3v7vj"]

[ext_resource type="Script" path="res://scenes/main.gd" id="1_byaqo"]
[ext_resource type="PackedScene" uid="uid://c1vrjum8aed8p" path="res://scenes/player.tscn" id="1_ll14h"]
[ext_resource type="PackedScene" uid="uid://bdmaah82xtrkr" path="res://scenes/paused_screen.tscn" id="2_57dd5"]
[ext_resource type="PackedScene" uid="uid://dhgsiqm66n4hl" path="res://models/mapping.glb" id="3_ji3ht"]
[ext_resource type="PackedScene" uid="uid://df6epdqre277v" path="res://models/room.glb" id="4_vgolk"]
[ext_resource type="PackedScene" uid="uid://n1200t0rfb3m" path="res://models/roof1.glb" id="5_2ybf7"]
[ext_resource type="PackedScene" uid="uid://coh3f3cldkurr" path="res://scenes/monster1.tscn" id="6_2t2md"]
[ext_resource type="PackedScene" uid="uid://b58iwil5klsxj" path="res://scenes/light.tscn" id="7_03gvj"]
[ext_resource type="Script" path="res://scripts/beginning_cutscene.gd" id="8_dgdwi"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_67rqt"]

[sub_resource type="Sky" id="Sky_aover"]
sky_material = SubResource("ProceduralSkyMaterial_67rqt")

[sub_resource type="Environment" id="Environment_nlp62"]
background_mode = 1
background_color = Color(0.117647, 0.117647, 0.117647, 1)
background_energy_multiplier = 2.38
sky = SubResource("Sky_aover")
ambient_light_color = Color(0.223529, 0.223529, 0.223529, 1)
ambient_light_energy = 0.0
tonemap_mode = 3
fog_enabled = true
fog_light_color = Color(0.121569, 0.133333, 0.156863, 1)
fog_density = 0.0308
volumetric_fog_enabled = true
volumetric_fog_albedo = Color(0.141176, 0.141176, 0.141176, 1)

[sub_resource type="NavigationMesh" id="NavigationMesh_li5b4"]
agent_height = 1.0

[sub_resource type="Animation" id="Animation_13m1t"]
resource_name = "cutscene"
length = 14.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../cutscene:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 10.1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(12.8467, 0.384387, -22.5002), Vector3(12.847, 1.374, -22.5)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../cutscene:rotation")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 2, 3.1, 4.7, 8.5, 12, 13.9),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(3.48787e-16, 1.5708, 3.48787e-16), Vector3(0.322886, 2.42252, 3.48787e-16), Vector3(0.322886, 0.612611, 3.48787e-16), Vector3(0.322886, 1.58301, 3.48787e-16), Vector3(0.322886, -0.984366, 3.48787e-16), Vector3(0.322886, -4.73682, 3.48787e-16), Vector3(3.48787e-16, -4.73682, 3.48787e-16)]
}

[sub_resource type="Animation" id="Animation_uh4nd"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../cutscene:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(12.8467, 0.384387, -22.5002)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../cutscene:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(3.48787e-16, 1.5708, 3.48787e-16)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_l3d3t"]
_data = {
"RESET": SubResource("Animation_uh4nd"),
"cutscene": SubResource("Animation_13m1t")
}

[node name="main" type="Node3D"]
script = ExtResource("1_byaqo")

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="paused_screen" parent="." instance=ExtResource("2_57dd5")]
visible = false

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_nlp62")

[node name="player" parent="." instance=ExtResource("1_ll14h")]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, 12.9325, 0.623147, -22.5804)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.49207, 0, 2.95276)
navigation_mesh = SubResource("NavigationMesh_li5b4")

[node name="roof1" parent="NavigationRegion3D" instance=ExtResource("5_2ybf7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.59157, -4.0284, -5.18551, -4.77465)

[node name="mapping" parent="NavigationRegion3D" instance=ExtResource("3_ji3ht")]
transform = Transform3D(1.37985, 0, 0, 0, 1, 0, 0, 0, 1.79171, -7.38977, -5.11345, -12.8294)

[node name="room" parent="NavigationRegion3D" instance=ExtResource("4_vgolk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.09873, -5.09893, -4.34115)

[node name="monster" parent="." instance=ExtResource("6_2t2md")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.69465, 1.14368, 0.470421)
player_path = NodePath("../player")

[node name="lighting" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.0323, 4.38923, -0.602068)

[node name="light" parent="lighting" instance=ExtResource("7_03gvj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -35.0618, 0.1114, 0.155303)

[node name="light2" parent="lighting" instance=ExtResource("7_03gvj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.5309, 0.0556998, 0.0776513)

[node name="light3" parent="lighting" instance=ExtResource("7_03gvj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.6587, 0, -17.7626)

[node name="light4" parent="lighting" instance=ExtResource("7_03gvj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -34.3511, 0, -15.8433)

[node name="light5" parent="lighting" instance=ExtResource("7_03gvj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.7957, 0, -13.1716)

[node name="light6" parent="lighting" instance=ExtResource("7_03gvj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.9935, 0, -22.1767)

[node name="light7" parent="lighting" instance=ExtResource("7_03gvj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.9935, 0, -26.5891)

[node name="light8" parent="lighting" instance=ExtResource("7_03gvj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -28.9998, 0, -23.3154)

[node name="Beginning_cutscene" type="Node3D" parent="."]
script = ExtResource("8_dgdwi")

[node name="cutscene" type="Camera3D" parent="Beginning_cutscene"]
transform = Transform3D(-4.37114e-08, 3.48787e-16, 1, 3.48787e-16, 1, -3.48787e-16, -1, 3.48787e-16, -4.37114e-08, 12.8467, 0.384387, -22.5002)
current = true
far = 20.0

[node name="cutscene2" type="AnimationPlayer" parent="Beginning_cutscene"]
root_node = NodePath(".")
libraries = {
"": SubResource("AnimationLibrary_l3d3t")
}
